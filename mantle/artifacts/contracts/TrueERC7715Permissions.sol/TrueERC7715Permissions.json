{
  "_format": "hh-sol-artifact-1",
  "contractName": "TrueERC7715Permissions",
  "sourceName": "contracts/TrueERC7715Permissions.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "approver",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "ActionApproved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        }
      ],
      "name": "ActionExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "proposer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        }
      ],
      "name": "ActionProposed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "FundsSpent",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        }
      ],
      "name": "PermissionGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        }
      ],
      "name": "PermissionRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        }
      ],
      "name": "approveAndPay",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        }
      ],
      "name": "getPermission",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "maxAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "spent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "available",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "maxAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "grantPermission",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        }
      ],
      "name": "isActionReady",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "pendingActions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "approvalCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "executed",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "permissions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "maxAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "spent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "owners",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "proposeTeamAction",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "actionId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        }
      ],
      "name": "revokePermission",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611027806100206000396000f3fe60806040526004361061007b5760003560e01c80636f01504d1161004e5780636f01504d14610174578063910185dd14610187578063a3bf5b9a146101d1578063e30569e5146101f157600080fd5b806313de8019146100805780631d1be4a5146100b55780631f9838b5146100e35780635ee2429b14610152575b600080fd5b34801561008c57600080fd5b506100a061009b366004610d6f565b610262565b60405190151581526020015b60405180910390f35b3480156100c157600080fd5b506100d56100d0366004610dd4565b610290565b6040519081526020016100ac565b3480156100ef57600080fd5b506101306100fe366004610e5c565b600060208181529281526040808220909352908152208054600182015460028301546003909301549192909160ff1684565b60408051948552602085019390935291830152151560608201526080016100ac565b34801561015e57600080fd5b5061017261016d366004610e8f565b610455565b005b610172610182366004610ec2565b6105f6565b34801561019357600080fd5b506101a76101a2366004610e5c565b610a26565b6040805195865260208601949094529284019190915215156060830152608082015260a0016100ac565b3480156101dd57600080fd5b506101726101ec366004610ee5565b610ae1565b3480156101fd57600080fd5b5061023c61020c366004610d6f565b60016020526000908152604090206003810154600482015460058301546006909301549192909160ff9091169084565b6040805194855260208501939093529015159183019190915260608201526080016100ac565b6000818152600160205260408120805460038201541480156102895750600581015460ff16155b9392505050565b60008382146102d85760405162461bcd60e51b815260206004820152600f60248201526e098cadccee8d040dad2e6dac2e8c6d608b1b60448201526064015b60405180910390fd5b836103115760405162461bcd60e51b81526020600482015260096024820152684e6f206f776e65727360b81b60448201526064016102cf565b42338686868660405160200161032c96959493929190610f00565b60408051601f1981840301815291815281516020928301206000818152600190935291206006810154919250901561039e5760405162461bcd60e51b8152602060048201526015602482015274416374696f6e20616c72656164792065786973747360581b60448201526064016102cf565b6000805b848110156103d8578585828181106103bc576103bc610f80565b90506020020135826103ce9190610fac565b91506001016103a2565b506103e4828888610cbc565b506103f3600183018686610d1f565b506004820181905542600683015560058201805460ff1916905560006003830155604051818152339084907f3eb40435ead02160dd24deacc83f47069df73d3e6a08273021818de49cd5f78b9060200160405180910390a35050949350505050565b6001600160a01b03831661049e5760405162461bcd60e51b815260206004820152601060248201526f496e76616c69642064656c656761746560801b60448201526064016102cf565b600082116104e75760405162461bcd60e51b815260206004820152601660248201527504d617820616d6f756e74206d757374206265203e20360541b60448201526064016102cf565b6000811161052a5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b60448201526064016102cf565b604080516080810182528381526000602082015290810161054b8342610fac565b81526001602091820181905233600081815280845260408082206001600160a01b038a16808452908652918190208651815594860151938501939093559184015160028401556060909301516003909201805460ff191692151592909217909155907f47e8fe1cf951ed6c2bd6e674655fb4f681a72e9a2a7bcb56fddfecb4c23afcc5846105d98542610fac565b6040805192835260208301919091520160405180910390a3505050565b600082815260016020526040902060068101546106485760405162461bcd60e51b815260206004820152601060248201526f1058dd1a5bdb881b9bdd08199bdd5b9960821b60448201526064016102cf565b600581015460ff16156106905760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b60448201526064016102cf565b33600090815260028201602052604090205460ff16156106e55760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016102cf565b60068101546106f69061012c610fac565b42106107355760405162461bcd60e51b815260206004820152600e60248201526d1058dd1a5bdb88195e1c1a5c995960921b60448201526064016102cf565b60008060005b83548110156107a7578354339085908390811061075a5761075a610f80565b6000918252602090912001546001600160a01b03160361079f5783600101818154811061078957610789610f80565b90600052602060002001549250600191506107a7565b60010161073b565b50806107f55760405162461bcd60e51b815260206004820152601760248201527f4e6f742070617274206f66207468697320616374696f6e00000000000000000060448201526064016102cf565b81341461083d5760405162461bcd60e51b8152602060048201526016602482015275135d5cdd081cd95b9908195e1858dd08185b5bdd5b9d60521b60448201526064016102cf565b336000908152602081815260408083206001600160a01b03881684529091529020600381015460ff166108aa5760405162461bcd60e51b81526020600482015260156024820152745065726d697373696f6e206e6f742061637469766560581b60448201526064016102cf565b806002015442106108f25760405162461bcd60e51b815260206004820152601260248201527114195c9b5a5cdcda5bdb88195e1c1a5c995960721b60448201526064016102cf565b80546001820154610904908590610fac565b11156109475760405162461bcd60e51b815260206004820152601260248201527122bc31b2b2b239903832b936b4b9b9b4b7b760711b60448201526064016102cf565b3360009081526002850160205260408120805460ff191660011790556003850180549161097383610fc5565b91905055508281600101600082825461098c9190610fac565b9091555050604051838152339087907fa8f680e6a932963eb0f3971a50ae3e8553052db2f27518f81780729bec4fe78c9060200160405180910390a36040518381526001600160a01b0386169033907fa6b5ff986627794655ee0966b919cb8ce3b7b374629f5e71b1ba4f4598da1bba9060200160405180910390a38354600385015403610a1e57610a1e8686610b93565b505050505050565b6001600160a01b03808316600090815260208181526040808320938516835292815282822083516080810185528154815260018201549281019290925260028101549382019390935260039092015460ff1615801560608401819052919283928392839283929091839190610a9e5750816040015142105b9050600081610aae576000610abf565b60208301518351610abf9190610fde565b83516020850151604090950151909c949b509950919750909550909350505050565b336000908152602081815260408083206001600160a01b03851684529091529020600381015460ff16610b4d5760405162461bcd60e51b815260206004820152601460248201527327379030b1ba34bb32903832b936b4b9b9b4b7b760611b60448201526064016102cf565b60038101805460ff191690556040516001600160a01b0383169033907f5f708ef9fc37d19d88246c264788c8cdf640c9ff500bd168e941ea1421c4f6c490600090a35050565b6000828152600160205260409020600581015460ff1615610be95760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b60448201526064016102cf565b8054600382015414610c305760405162461bcd60e51b815260206004820152601060248201526f139bdd08185b1b08185c1c1c9bdd995960821b60448201526064016102cf565b60058101805460ff1916600117905560048101546040516001600160a01b0384169180156108fc02916000818181858888f19350505050158015610c78573d6000803e3d6000fd5b50827f1cc9a0755dd734c1ebfe98b68ece200037e363eb366d0dee04e420e2f23cc0108260040154604051610caf91815260200190565b60405180910390a2505050565b828054828255906000526020600020908101928215610d0f579160200282015b82811115610d0f5781546001600160a01b0319166001600160a01b03843516178255602090920191600190910190610cdc565b50610d1b929150610d5a565b5090565b828054828255906000526020600020908101928215610d0f579160200282015b82811115610d0f578235825591602001919060010190610d3f565b5b80821115610d1b5760008155600101610d5b565b600060208284031215610d8157600080fd5b5035919050565b60008083601f840112610d9a57600080fd5b50813567ffffffffffffffff811115610db257600080fd5b6020830191508360208260051b8501011115610dcd57600080fd5b9250929050565b60008060008060408587031215610dea57600080fd5b843567ffffffffffffffff80821115610e0257600080fd5b610e0e88838901610d88565b90965094506020870135915080821115610e2757600080fd5b50610e3487828801610d88565b95989497509550505050565b80356001600160a01b0381168114610e5757600080fd5b919050565b60008060408385031215610e6f57600080fd5b610e7883610e40565b9150610e8660208401610e40565b90509250929050565b600080600060608486031215610ea457600080fd5b610ead84610e40565b95602085013595506040909401359392505050565b60008060408385031215610ed557600080fd5b82359150610e8660208401610e40565b600060208284031215610ef757600080fd5b61028982610e40565b868152600060206bffffffffffffffffffffffff198860601b166020840152603483018760005b88811015610f53576001600160a01b03610f4083610e40565b1683529183019190830190600101610f27565b50506001600160fb1b03851115610f6957600080fd5b8460051b9150818682370198975050505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610fbf57610fbf610f96565b92915050565b600060018201610fd757610fd7610f96565b5060010190565b81810381811115610fbf57610fbf610f9656fea2646970667358221220a540179f07b1361235f125bc17d27679540e4acb4ad0c7d9cdc054c13041ea5a64736f6c63430008170033",
  "deployedBytecode": "0x60806040526004361061007b5760003560e01c80636f01504d1161004e5780636f01504d14610174578063910185dd14610187578063a3bf5b9a146101d1578063e30569e5146101f157600080fd5b806313de8019146100805780631d1be4a5146100b55780631f9838b5146100e35780635ee2429b14610152575b600080fd5b34801561008c57600080fd5b506100a061009b366004610d6f565b610262565b60405190151581526020015b60405180910390f35b3480156100c157600080fd5b506100d56100d0366004610dd4565b610290565b6040519081526020016100ac565b3480156100ef57600080fd5b506101306100fe366004610e5c565b600060208181529281526040808220909352908152208054600182015460028301546003909301549192909160ff1684565b60408051948552602085019390935291830152151560608201526080016100ac565b34801561015e57600080fd5b5061017261016d366004610e8f565b610455565b005b610172610182366004610ec2565b6105f6565b34801561019357600080fd5b506101a76101a2366004610e5c565b610a26565b6040805195865260208601949094529284019190915215156060830152608082015260a0016100ac565b3480156101dd57600080fd5b506101726101ec366004610ee5565b610ae1565b3480156101fd57600080fd5b5061023c61020c366004610d6f565b60016020526000908152604090206003810154600482015460058301546006909301549192909160ff9091169084565b6040805194855260208501939093529015159183019190915260608201526080016100ac565b6000818152600160205260408120805460038201541480156102895750600581015460ff16155b9392505050565b60008382146102d85760405162461bcd60e51b815260206004820152600f60248201526e098cadccee8d040dad2e6dac2e8c6d608b1b60448201526064015b60405180910390fd5b836103115760405162461bcd60e51b81526020600482015260096024820152684e6f206f776e65727360b81b60448201526064016102cf565b42338686868660405160200161032c96959493929190610f00565b60408051601f1981840301815291815281516020928301206000818152600190935291206006810154919250901561039e5760405162461bcd60e51b8152602060048201526015602482015274416374696f6e20616c72656164792065786973747360581b60448201526064016102cf565b6000805b848110156103d8578585828181106103bc576103bc610f80565b90506020020135826103ce9190610fac565b91506001016103a2565b506103e4828888610cbc565b506103f3600183018686610d1f565b506004820181905542600683015560058201805460ff1916905560006003830155604051818152339084907f3eb40435ead02160dd24deacc83f47069df73d3e6a08273021818de49cd5f78b9060200160405180910390a35050949350505050565b6001600160a01b03831661049e5760405162461bcd60e51b815260206004820152601060248201526f496e76616c69642064656c656761746560801b60448201526064016102cf565b600082116104e75760405162461bcd60e51b815260206004820152601660248201527504d617820616d6f756e74206d757374206265203e20360541b60448201526064016102cf565b6000811161052a5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b60448201526064016102cf565b604080516080810182528381526000602082015290810161054b8342610fac565b81526001602091820181905233600081815280845260408082206001600160a01b038a16808452908652918190208651815594860151938501939093559184015160028401556060909301516003909201805460ff191692151592909217909155907f47e8fe1cf951ed6c2bd6e674655fb4f681a72e9a2a7bcb56fddfecb4c23afcc5846105d98542610fac565b6040805192835260208301919091520160405180910390a3505050565b600082815260016020526040902060068101546106485760405162461bcd60e51b815260206004820152601060248201526f1058dd1a5bdb881b9bdd08199bdd5b9960821b60448201526064016102cf565b600581015460ff16156106905760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b60448201526064016102cf565b33600090815260028201602052604090205460ff16156106e55760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016102cf565b60068101546106f69061012c610fac565b42106107355760405162461bcd60e51b815260206004820152600e60248201526d1058dd1a5bdb88195e1c1a5c995960921b60448201526064016102cf565b60008060005b83548110156107a7578354339085908390811061075a5761075a610f80565b6000918252602090912001546001600160a01b03160361079f5783600101818154811061078957610789610f80565b90600052602060002001549250600191506107a7565b60010161073b565b50806107f55760405162461bcd60e51b815260206004820152601760248201527f4e6f742070617274206f66207468697320616374696f6e00000000000000000060448201526064016102cf565b81341461083d5760405162461bcd60e51b8152602060048201526016602482015275135d5cdd081cd95b9908195e1858dd08185b5bdd5b9d60521b60448201526064016102cf565b336000908152602081815260408083206001600160a01b03881684529091529020600381015460ff166108aa5760405162461bcd60e51b81526020600482015260156024820152745065726d697373696f6e206e6f742061637469766560581b60448201526064016102cf565b806002015442106108f25760405162461bcd60e51b815260206004820152601260248201527114195c9b5a5cdcda5bdb88195e1c1a5c995960721b60448201526064016102cf565b80546001820154610904908590610fac565b11156109475760405162461bcd60e51b815260206004820152601260248201527122bc31b2b2b239903832b936b4b9b9b4b7b760711b60448201526064016102cf565b3360009081526002850160205260408120805460ff191660011790556003850180549161097383610fc5565b91905055508281600101600082825461098c9190610fac565b9091555050604051838152339087907fa8f680e6a932963eb0f3971a50ae3e8553052db2f27518f81780729bec4fe78c9060200160405180910390a36040518381526001600160a01b0386169033907fa6b5ff986627794655ee0966b919cb8ce3b7b374629f5e71b1ba4f4598da1bba9060200160405180910390a38354600385015403610a1e57610a1e8686610b93565b505050505050565b6001600160a01b03808316600090815260208181526040808320938516835292815282822083516080810185528154815260018201549281019290925260028101549382019390935260039092015460ff1615801560608401819052919283928392839283929091839190610a9e5750816040015142105b9050600081610aae576000610abf565b60208301518351610abf9190610fde565b83516020850151604090950151909c949b509950919750909550909350505050565b336000908152602081815260408083206001600160a01b03851684529091529020600381015460ff16610b4d5760405162461bcd60e51b815260206004820152601460248201527327379030b1ba34bb32903832b936b4b9b9b4b7b760611b60448201526064016102cf565b60038101805460ff191690556040516001600160a01b0383169033907f5f708ef9fc37d19d88246c264788c8cdf640c9ff500bd168e941ea1421c4f6c490600090a35050565b6000828152600160205260409020600581015460ff1615610be95760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b60448201526064016102cf565b8054600382015414610c305760405162461bcd60e51b815260206004820152601060248201526f139bdd08185b1b08185c1c1c9bdd995960821b60448201526064016102cf565b60058101805460ff1916600117905560048101546040516001600160a01b0384169180156108fc02916000818181858888f19350505050158015610c78573d6000803e3d6000fd5b50827f1cc9a0755dd734c1ebfe98b68ece200037e363eb366d0dee04e420e2f23cc0108260040154604051610caf91815260200190565b60405180910390a2505050565b828054828255906000526020600020908101928215610d0f579160200282015b82811115610d0f5781546001600160a01b0319166001600160a01b03843516178255602090920191600190910190610cdc565b50610d1b929150610d5a565b5090565b828054828255906000526020600020908101928215610d0f579160200282015b82811115610d0f578235825591602001919060010190610d3f565b5b80821115610d1b5760008155600101610d5b565b600060208284031215610d8157600080fd5b5035919050565b60008083601f840112610d9a57600080fd5b50813567ffffffffffffffff811115610db257600080fd5b6020830191508360208260051b8501011115610dcd57600080fd5b9250929050565b60008060008060408587031215610dea57600080fd5b843567ffffffffffffffff80821115610e0257600080fd5b610e0e88838901610d88565b90965094506020870135915080821115610e2757600080fd5b50610e3487828801610d88565b95989497509550505050565b80356001600160a01b0381168114610e5757600080fd5b919050565b60008060408385031215610e6f57600080fd5b610e7883610e40565b9150610e8660208401610e40565b90509250929050565b600080600060608486031215610ea457600080fd5b610ead84610e40565b95602085013595506040909401359392505050565b60008060408385031215610ed557600080fd5b82359150610e8660208401610e40565b600060208284031215610ef757600080fd5b61028982610e40565b868152600060206bffffffffffffffffffffffff198860601b166020840152603483018760005b88811015610f53576001600160a01b03610f4083610e40565b1683529183019190830190600101610f27565b50506001600160fb1b03851115610f6957600080fd5b8460051b9150818682370198975050505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610fbf57610fbf610f96565b92915050565b600060018201610fd757610fd7610f96565b5060010190565b81810381811115610fbf57610fbf610f9656fea2646970667358221220a540179f07b1361235f125bc17d27679540e4acb4ad0c7d9cdc054c13041ea5a64736f6c63430008170033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
