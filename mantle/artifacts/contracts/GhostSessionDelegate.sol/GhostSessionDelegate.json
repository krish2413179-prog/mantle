{
  "_format": "hh-sol-artifact-1",
  "contractName": "GhostSessionDelegate",
  "sourceName": "contracts/GhostSessionDelegate.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ExecutionFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidDuration",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidSpendLimit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SessionInactive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SpendingLimitExceededError",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedAgent",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maxSpendLimit",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "name": "DelegationSessionCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [],
      "name": "DelegationSessionRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "targetContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes4",
          "name": "methodSelector",
          "type": "bytes4"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "name": "GameActionExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "attempted",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "remaining",
          "type": "uint256"
        }
      ],
      "name": "SpendingLimitExceeded",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "AGENT_ADDRESS",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "targetContracts",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "callsData",
          "type": "bytes[]"
        },
        {
          "internalType": "uint256[]",
          "name": "values",
          "type": "uint256[]"
        }
      ],
      "name": "batchExecuteGameActions",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "emergencyWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "targetContract",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "executeGameAction",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "additionalDuration",
          "type": "uint256"
        }
      ],
      "name": "extendSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAuthorizedAgent",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getSessionInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "maxSpendLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "currentSpent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "remainingLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timeRemaining",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "additionalLimit",
          "type": "uint256"
        }
      ],
      "name": "increaseSpendingLimit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "maxSpendLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "initializeSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "isSessionValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "revokeSession",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "session",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "maxSpendLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "currentSpent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610e74806100206000396000f3fe6080604052600436106100aa5760003560e01c806369bd69a61161006457806369bd69a6146101c45780639463b1cd146101e4578063c4605d8c1461022e578063cd5e944d14610243578063db1683481461026b578063db2e21bc1461027e57600080fd5b8062782173146100b6578063251d10b0146100cb57806328f58b92146100eb57806332b9708c1461010b57806345bb46341461014b5780635e3568b81461017057600080fd5b366100b157005b600080fd5b6100c96100c4366004610b86565b610293565b005b3480156100d757600080fd5b506100c96100e6366004610c20565b61057b565b3480156100f757600080fd5b506100c9610106366004610c20565b610607565b34801561011757600080fd5b507363e3f5a1fc6432b44a579de55858aaaa00c6e0815b6040516001600160a01b0390911681526020015b60405180910390f35b34801561015757600080fd5b5061016061067e565b6040519015158152602001610142565b34801561017c57600080fd5b5060005460015460025460035460045461019a9493929160ff169085565b6040805195865260208601949094529284019190915215156060830152608082015260a001610142565b3480156101d057600080fd5b506100c96101df366004610c39565b61069a565b3480156101f057600080fd5b506101f96107b2565b604080519788526020880196909652948601939093529015156060850152608084015260a083015260c082015260e001610142565b34801561023a57600080fd5b506100c9610813565b34801561024f57600080fd5b5061012e7363e3f5a1fc6432b44a579de55858aaaa00c6e08181565b6100c9610279366004610c77565b610889565b34801561028a57600080fd5b506100c9610aa6565b337363e3f5a1fc6432b44a579de55858aaaa00c6e081146102c657604051624b0ebd60e41b815260040160405180910390fd5b60035460ff1615806102d9575060025442115b156102f757604051630fe82d2560e11b815260040160405180910390fd5b84831415806103065750828114155b1561032457604051632b3f6d1160e21b815260040160405180910390fd5b6000805b8281101561035e5783838281811061034257610342610cfa565b90506020020135826103549190610d26565b9150600101610328565b5080156103b057600054600154610376908390610d26565b111561039557604051630f52e9bb60e41b815260040160405180910390fd5b80600060010160008282546103aa9190610d26565b90915550505b600480549060006103c083610d3f565b919050555060005b868110156105715760008888838181106103e4576103e4610cfa565b90506020020160208101906103f99190610d58565b6001600160a01b031685858481811061041457610414610cfa565b9050602002013588888581811061042d5761042d610cfa565b905060200281019061043f9190610d7a565b60405161044d929190610dc1565b60006040518083038185875af1925050503d806000811461048a576040519150601f19603f3d011682016040523d82523d6000602084013e61048f565b606091505b50509050806104b157604051632b3f6d1160e21b815260040160405180910390fd5b60008787848181106104c5576104c5610cfa565b90506020028101906104d79190610d7a565b6104e691600491600091610dd1565b6104ef91610dfb565b90506001600160e01b031981168a8a8581811061050e5761050e610cfa565b90506020020160208101906105239190610d58565b6001600160a01b03167f324742d34a8340672f51f63c91bbf1f55ca1d8d580c455a92cf45f5413f2eaf08460405161055f911515815260200190565b60405180910390a350506001016103c8565b5050505050505050565b33301461059a57604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166105bd5760405163f9be14df60e01b815260040160405180910390fd5b8015806105cc575062278d0081115b156105ea57604051637616640160e01b815260040160405180910390fd5b80600060020160008282546105ff9190610d26565b909155505050565b33301461062657604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166106495760405163f9be14df60e01b815260040160405180910390fd5b8060000361066a57604051632ae9bdc160e01b815260040160405180910390fd5b806000800160008282546105ff9190610d26565b60035460009060ff16801561069557506002544211155b905090565b3330146106b957604051624b0ebd60e41b815260040160405180910390fd5b816000036106da57604051632ae9bdc160e01b815260040160405180910390fd5b8015806106e9575062278d0081115b1561070757604051637616640160e01b815260040160405180910390fd5b6040805160a081018252838152600060208201529081016107288342610d26565b8152600160208083018290526000604093840181905284519055830151905581015160025560608101516003805460ff1916911515919091179055608001516004557f2e1901bcdbeab5bf92d0e1f1dcd6b9717408a294041ced63216a67092ae60704826107968342610d26565b6040805192835260208301919091520160405180910390a15050565b6000805460015460025460035460045485948594859485948594859493929160ff16906107df8486610e2b565b60025442106107ef5760006107fd565b6002546107fd904290610e2b565b959d949c50929a50909850965094509092509050565b3330148015906108375750337363e3f5a1fc6432b44a579de55858aaaa00c6e08114155b1561085457604051624b0ebd60e41b815260040160405180910390fd5b6003805460ff191690556040517fe73077badcf39777feed76de1d1ddbd647feffcb6b2ff8388aa5b49c38467f7b90600090a1565b337363e3f5a1fc6432b44a579de55858aaaa00c6e081146108bc57604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166108df5760405163f9be14df60e01b815260040160405180910390fd5b60025442111561090257604051630fe82d2560e11b815260040160405180910390fd5b341561099f57600054600154610919903490610d26565b1115610984576001546000547f4557d1656832972695937c4c01908c84bb87a66221f162f093115077c6987a189134916109539190610e2b565b6040805192835260208301919091520160405180910390a1604051630f52e9bb60e41b815260040160405180910390fd5b34600060010160008282546109999190610d26565b90915550505b600480549060006109af83610d3f565b91905055506000836001600160a01b03163484846040516109d1929190610dc1565b60006040518083038185875af1925050503d8060008114610a0e576040519150601f19603f3d011682016040523d82523d6000602084013e610a13565b606091505b5050905080610a3557604051632b3f6d1160e21b815260040160405180910390fd5b6000610a446004828587610dd1565b610a4d91610dfb565b9050806001600160e01b031916856001600160a01b03167f324742d34a8340672f51f63c91bbf1f55ca1d8d580c455a92cf45f5413f2eaf084604051610a97911515815260200190565b60405180910390a35050505050565b333014610ac557604051624b0ebd60e41b815260040160405180910390fd5b478015610b3757604051600090309083908381818185875af1925050503d8060008114610b0e576040519150601f19603f3d011682016040523d82523d6000602084013e610b13565b606091505b5050905080610b3557604051632b3f6d1160e21b815260040160405180910390fd5b505b50565b60008083601f840112610b4c57600080fd5b50813567ffffffffffffffff811115610b6457600080fd5b6020830191508360208260051b8501011115610b7f57600080fd5b9250929050565b60008060008060008060608789031215610b9f57600080fd5b863567ffffffffffffffff80821115610bb757600080fd5b610bc38a838b01610b3a565b90985096506020890135915080821115610bdc57600080fd5b610be88a838b01610b3a565b90965094506040890135915080821115610c0157600080fd5b50610c0e89828a01610b3a565b979a9699509497509295939492505050565b600060208284031215610c3257600080fd5b5035919050565b60008060408385031215610c4c57600080fd5b50508035926020909101359150565b80356001600160a01b0381168114610c7257600080fd5b919050565b600080600060408486031215610c8c57600080fd5b610c9584610c5b565b9250602084013567ffffffffffffffff80821115610cb257600080fd5b818601915086601f830112610cc657600080fd5b813581811115610cd557600080fd5b876020828501011115610ce757600080fd5b6020830194508093505050509250925092565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610d3957610d39610d10565b92915050565b600060018201610d5157610d51610d10565b5060010190565b600060208284031215610d6a57600080fd5b610d7382610c5b565b9392505050565b6000808335601e19843603018112610d9157600080fd5b83018035915067ffffffffffffffff821115610dac57600080fd5b602001915036819003821315610b7f57600080fd5b8183823760009101908152919050565b60008085851115610de157600080fd5b83861115610dee57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610e235780818660040360031b1b83161692505b505092915050565b81810381811115610d3957610d39610d1056fea2646970667358221220e2385e25098c3467aabcd2380814e1abbeca4ab688eb7fbaf788cc8dc398faef64736f6c63430008170033",
  "deployedBytecode": "0x6080604052600436106100aa5760003560e01c806369bd69a61161006457806369bd69a6146101c45780639463b1cd146101e4578063c4605d8c1461022e578063cd5e944d14610243578063db1683481461026b578063db2e21bc1461027e57600080fd5b8062782173146100b6578063251d10b0146100cb57806328f58b92146100eb57806332b9708c1461010b57806345bb46341461014b5780635e3568b81461017057600080fd5b366100b157005b600080fd5b6100c96100c4366004610b86565b610293565b005b3480156100d757600080fd5b506100c96100e6366004610c20565b61057b565b3480156100f757600080fd5b506100c9610106366004610c20565b610607565b34801561011757600080fd5b507363e3f5a1fc6432b44a579de55858aaaa00c6e0815b6040516001600160a01b0390911681526020015b60405180910390f35b34801561015757600080fd5b5061016061067e565b6040519015158152602001610142565b34801561017c57600080fd5b5060005460015460025460035460045461019a9493929160ff169085565b6040805195865260208601949094529284019190915215156060830152608082015260a001610142565b3480156101d057600080fd5b506100c96101df366004610c39565b61069a565b3480156101f057600080fd5b506101f96107b2565b604080519788526020880196909652948601939093529015156060850152608084015260a083015260c082015260e001610142565b34801561023a57600080fd5b506100c9610813565b34801561024f57600080fd5b5061012e7363e3f5a1fc6432b44a579de55858aaaa00c6e08181565b6100c9610279366004610c77565b610889565b34801561028a57600080fd5b506100c9610aa6565b337363e3f5a1fc6432b44a579de55858aaaa00c6e081146102c657604051624b0ebd60e41b815260040160405180910390fd5b60035460ff1615806102d9575060025442115b156102f757604051630fe82d2560e11b815260040160405180910390fd5b84831415806103065750828114155b1561032457604051632b3f6d1160e21b815260040160405180910390fd5b6000805b8281101561035e5783838281811061034257610342610cfa565b90506020020135826103549190610d26565b9150600101610328565b5080156103b057600054600154610376908390610d26565b111561039557604051630f52e9bb60e41b815260040160405180910390fd5b80600060010160008282546103aa9190610d26565b90915550505b600480549060006103c083610d3f565b919050555060005b868110156105715760008888838181106103e4576103e4610cfa565b90506020020160208101906103f99190610d58565b6001600160a01b031685858481811061041457610414610cfa565b9050602002013588888581811061042d5761042d610cfa565b905060200281019061043f9190610d7a565b60405161044d929190610dc1565b60006040518083038185875af1925050503d806000811461048a576040519150601f19603f3d011682016040523d82523d6000602084013e61048f565b606091505b50509050806104b157604051632b3f6d1160e21b815260040160405180910390fd5b60008787848181106104c5576104c5610cfa565b90506020028101906104d79190610d7a565b6104e691600491600091610dd1565b6104ef91610dfb565b90506001600160e01b031981168a8a8581811061050e5761050e610cfa565b90506020020160208101906105239190610d58565b6001600160a01b03167f324742d34a8340672f51f63c91bbf1f55ca1d8d580c455a92cf45f5413f2eaf08460405161055f911515815260200190565b60405180910390a350506001016103c8565b5050505050505050565b33301461059a57604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166105bd5760405163f9be14df60e01b815260040160405180910390fd5b8015806105cc575062278d0081115b156105ea57604051637616640160e01b815260040160405180910390fd5b80600060020160008282546105ff9190610d26565b909155505050565b33301461062657604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166106495760405163f9be14df60e01b815260040160405180910390fd5b8060000361066a57604051632ae9bdc160e01b815260040160405180910390fd5b806000800160008282546105ff9190610d26565b60035460009060ff16801561069557506002544211155b905090565b3330146106b957604051624b0ebd60e41b815260040160405180910390fd5b816000036106da57604051632ae9bdc160e01b815260040160405180910390fd5b8015806106e9575062278d0081115b1561070757604051637616640160e01b815260040160405180910390fd5b6040805160a081018252838152600060208201529081016107288342610d26565b8152600160208083018290526000604093840181905284519055830151905581015160025560608101516003805460ff1916911515919091179055608001516004557f2e1901bcdbeab5bf92d0e1f1dcd6b9717408a294041ced63216a67092ae60704826107968342610d26565b6040805192835260208301919091520160405180910390a15050565b6000805460015460025460035460045485948594859485948594859493929160ff16906107df8486610e2b565b60025442106107ef5760006107fd565b6002546107fd904290610e2b565b959d949c50929a50909850965094509092509050565b3330148015906108375750337363e3f5a1fc6432b44a579de55858aaaa00c6e08114155b1561085457604051624b0ebd60e41b815260040160405180910390fd5b6003805460ff191690556040517fe73077badcf39777feed76de1d1ddbd647feffcb6b2ff8388aa5b49c38467f7b90600090a1565b337363e3f5a1fc6432b44a579de55858aaaa00c6e081146108bc57604051624b0ebd60e41b815260040160405180910390fd5b60035460ff166108df5760405163f9be14df60e01b815260040160405180910390fd5b60025442111561090257604051630fe82d2560e11b815260040160405180910390fd5b341561099f57600054600154610919903490610d26565b1115610984576001546000547f4557d1656832972695937c4c01908c84bb87a66221f162f093115077c6987a189134916109539190610e2b565b6040805192835260208301919091520160405180910390a1604051630f52e9bb60e41b815260040160405180910390fd5b34600060010160008282546109999190610d26565b90915550505b600480549060006109af83610d3f565b91905055506000836001600160a01b03163484846040516109d1929190610dc1565b60006040518083038185875af1925050503d8060008114610a0e576040519150601f19603f3d011682016040523d82523d6000602084013e610a13565b606091505b5050905080610a3557604051632b3f6d1160e21b815260040160405180910390fd5b6000610a446004828587610dd1565b610a4d91610dfb565b9050806001600160e01b031916856001600160a01b03167f324742d34a8340672f51f63c91bbf1f55ca1d8d580c455a92cf45f5413f2eaf084604051610a97911515815260200190565b60405180910390a35050505050565b333014610ac557604051624b0ebd60e41b815260040160405180910390fd5b478015610b3757604051600090309083908381818185875af1925050503d8060008114610b0e576040519150601f19603f3d011682016040523d82523d6000602084013e610b13565b606091505b5050905080610b3557604051632b3f6d1160e21b815260040160405180910390fd5b505b50565b60008083601f840112610b4c57600080fd5b50813567ffffffffffffffff811115610b6457600080fd5b6020830191508360208260051b8501011115610b7f57600080fd5b9250929050565b60008060008060008060608789031215610b9f57600080fd5b863567ffffffffffffffff80821115610bb757600080fd5b610bc38a838b01610b3a565b90985096506020890135915080821115610bdc57600080fd5b610be88a838b01610b3a565b90965094506040890135915080821115610c0157600080fd5b50610c0e89828a01610b3a565b979a9699509497509295939492505050565b600060208284031215610c3257600080fd5b5035919050565b60008060408385031215610c4c57600080fd5b50508035926020909101359150565b80356001600160a01b0381168114610c7257600080fd5b919050565b600080600060408486031215610c8c57600080fd5b610c9584610c5b565b9250602084013567ffffffffffffffff80821115610cb257600080fd5b818601915086601f830112610cc657600080fd5b813581811115610cd557600080fd5b876020828501011115610ce757600080fd5b6020830194508093505050509250925092565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610d3957610d39610d10565b92915050565b600060018201610d5157610d51610d10565b5060010190565b600060208284031215610d6a57600080fd5b610d7382610c5b565b9392505050565b6000808335601e19843603018112610d9157600080fd5b83018035915067ffffffffffffffff821115610dac57600080fd5b602001915036819003821315610b7f57600080fd5b8183823760009101908152919050565b60008085851115610de157600080fd5b83861115610dee57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610e235780818660040360031b1b83161692505b505092915050565b81810381811115610d3957610d39610d1056fea2646970667358221220e2385e25098c3467aabcd2380814e1abbeca4ab688eb7fbaf788cc8dc398faef64736f6c63430008170033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
