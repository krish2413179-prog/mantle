# Delegation UI Guide - Editable Amount Feature

## ğŸ¨ New User Interface

### Main Delegation Screen

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ›¡ï¸ Delegate Permission                 â•‘
â•‘         Join the team battle by delegating funds          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                           â•‘
â•‘  ğŸ‘‘ Team Leader                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  [Photo]  Eleven                                    â”‚ â•‘
â•‘  â”‚           0x24c8...758c                             â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                           â•‘
â•‘  ğŸ“‹ Transaction Details                                   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  Amount to Delegate:                                â”‚ â•‘
â•‘  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚ â•‘
â•‘  â”‚  â”ƒ         0.1                            MNT  â”ƒ  â”‚ â•‘
â•‘  â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚ â•‘
â•‘  â”‚  Your balance: 2.5000 MNT          [Use Max]       â”‚ â•‘
â•‘  â”‚                                                     â”‚ â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”             â”‚ â•‘
â•‘  â”‚  â”‚ 0.05 â”‚ â”‚ 0.1  â”‚ â”‚ 0.5  â”‚ â”‚ 1.0  â”‚             â”‚ â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜             â”‚ â•‘
â•‘  â”‚                                                     â”‚ â•‘
â•‘  â”‚  Duration: 24 hours                                â”‚ â•‘
â•‘  â”‚  Contract: TeamDelegation                          â”‚ â•‘
â•‘  â”‚  Network: Mantle Sepolia                           â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                           â•‘
â•‘  âš¡ What happens:                                         â•‘
â•‘  â€¢ Your 0.1 MNT will be sent to the smart contract       â•‘
â•‘  â€¢ Team leader can spend it for team weapons             â•‘
â•‘  â€¢ You can revoke permission anytime                     â•‘
â•‘  â€¢ Unspent funds are refunded when you revoke            â•‘
â•‘                                                           â•‘
â•‘  ğŸ”’ Security:                                             â•‘
â•‘  â€¢ Funds are held in audited smart contract              â•‘
â•‘  â€¢ Leader can only spend delegated amount                â•‘
â•‘  â€¢ Emergency revoke available anytime                    â•‘
â•‘  â€¢ All transactions are on-chain and verifiable          â•‘
â•‘                                                           â•‘
â•‘  âœ… Wallet ready! You can proceed with delegation.       â•‘
â•‘                                                           â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“ â•‘
â•‘  â”ƒ  ğŸ›¡ï¸ Delegate 0.1 MNT (Sign with MetaMask)         â”ƒ â•‘
â•‘  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”› â•‘
â•‘                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚        Skip (Watch Only Mode)                       â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                           â•‘
â•‘  By delegating, you agree to let the team leader         â•‘
â•‘  spend up to 0.1 MNT for team weapons                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ¯ Interactive Elements

### 1. Amount Input Field
- **Type**: Number input
- **Default**: 0.1
- **Min**: 0.001
- **Max**: User's balance
- **Step**: 0.001
- **Style**: Large, bold, green text
- **Validation**: Real-time

### 2. Balance Display
```
Your balance: 2.5000 MNT          [Use Max]
     â†‘                                â†‘
  Live balance                  Quick fill button
```

### 3. Quick Amount Buttons
```
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ 0.05 â”‚ â”‚ 0.1  â”‚ â”‚ 0.5  â”‚ â”‚ 1.0  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
   â†‘        â†‘        â†‘        â†‘
 Click to set amount instantly
 
 Selected button: Purple highlight
 Unselected: Gray with hover effect
```

### 4. Main Delegate Button States

#### State 1: Ready to Delegate
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  ğŸ›¡ï¸ Delegate 0.5 MNT (Sign with MetaMask)         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
Green gradient, enabled, clickable
```

#### State 2: Invalid Amount (Zero)
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  ğŸ›¡ï¸ Enter Amount to Delegate                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
Gray, disabled, not clickable
```

#### State 3: Insufficient Balance
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  ğŸ›¡ï¸ Insufficient Balance                          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
Gray, disabled, not clickable
Error shown: "Insufficient balance. You have X MNT"
```

#### State 4: Checking Wallet
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  ğŸ›¡ï¸ Checking Wallet...                            â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
Gray, disabled, loading
```

## ğŸ“± User Interactions

### Interaction 1: Type Custom Amount
```
User types: "0.75"
  â†“
Input updates: 0.75
  â†“
Button updates: "Delegate 0.75 MNT (Sign with MetaMask)"
  â†“
User clicks button
  â†“
MetaMask popup: "Send 0.75 MNT"
```

### Interaction 2: Use Quick Button
```
User clicks: [0.5]
  â†“
Input updates: 0.5
  â†“
Button highlights: Purple border
  â†“
Button text: "Delegate 0.5 MNT (Sign with MetaMask)"
```

### Interaction 3: Use Max
```
User balance: 2.5 MNT
  â†“
User clicks: [Use Max]
  â†“
Input updates: 2.49 (leaves 0.01 for gas)
  â†“
Button text: "Delegate 2.49 MNT (Sign with MetaMask)"
```

### Interaction 4: Insufficient Balance
```
User balance: 0.05 MNT
  â†“
User types: "0.1"
  â†“
Validation fails
  â†“
Button disabled: "Insufficient Balance"
  â†“
Error shown: "Insufficient balance. You have 0.05 MNT"
```

## ğŸ¬ Animation Flow

### Step 1: Intro Screen (Editable Amount)
```
[Amount Input Field]
[Quick Buttons]
[Delegate Button]
```

### Step 2: Signing (After Click)
```
â³ Waiting for Signature
Please confirm the transaction in MetaMask

Delegating to: Eleven
Amount: 0.5 MNT
```

### Step 3: Confirming
```
â³ Confirming Transaction
Your transaction is being confirmed on the blockchain

Transaction Hash: 0x1234...
[View on Explorer]
```

### Step 4: Success
```
âœ… Delegation Successful! ğŸ‰
You've successfully delegated 0.5 MNT to your team leader

Transaction Hash: 0x1234...
[View on Explorer]

âœ… Your funds are now available for team attacks
âœ… You can revoke permission anytime
âœ… Entering battle arena...
```

## ğŸ¨ Color Scheme

### Input Field
- Background: Black with 70% opacity
- Border: Purple (2px, 50% opacity)
- Text: Green (#4ade80) - Large, bold
- Focus: Purple border (100% opacity)

### Quick Buttons
- Selected: Purple background (#9333ea), white text, purple border
- Unselected: Black background, gray text, gray border
- Hover: Purple border, purple text

### Use Max Button
- Text: Purple (#a855f7)
- Hover: Lighter purple (#c084fc)
- Font: Semibold, small

### Main Button
- Enabled: Green to emerald gradient
- Disabled: Gray (#374151)
- Hover: Darker green gradient + scale up
- Text: White, bold, large

## ğŸ“Š Validation Messages

### Success States
```
âœ… Wallet ready! You can proceed with delegation.
âœ… Amount validated: 0.5 MNT
âœ… Transaction confirmed!
```

### Error States
```
âŒ MetaMask not detected. Please install MetaMask extension.
âŒ Wallet not connected. Please connect your MetaMask wallet.
âŒ Wrong network. Please switch to Mantle Sepolia in MetaMask.
âŒ Please enter a valid amount greater than 0
âŒ Insufficient balance. You have 0.05 MNT
```

### Info States
```
ğŸ”„ Checking wallet status...
â³ Waiting for signature...
â³ Confirming transaction...
```

## ğŸ”§ Technical Specs

### Input Validation
```typescript
// Real-time validation
disabled={
  !walletReady ||                           // Wallet not ready
  checking ||                               // Still checking
  parseFloat(delegationAmount) <= 0 ||      // Amount is 0 or negative
  parseFloat(delegationAmount) > parseFloat(balance)  // Exceeds balance
}
```

### Balance Fetching
```typescript
// Get balance from blockchain
const balanceWei = await window.ethereum.request({
  method: 'eth_getBalance',
  params: [userAddress, 'latest']
})
const balanceEth = parseInt(balanceWei, 16) / 1e18
setBalance(balanceEth.toFixed(4))
```

### Use Max Calculation
```typescript
// Leave 0.01 MNT for gas
const maxAmount = Math.max(0, parseFloat(balance) - 0.01)
setDelegationAmount(maxAmount.toFixed(4))
```

## ğŸ¯ User Experience Goals

1. **Clarity**: User always knows their balance and limits
2. **Flexibility**: Can delegate any amount they want
3. **Convenience**: Quick buttons for common amounts
4. **Safety**: Validation prevents mistakes
5. **Transparency**: Real-time feedback on all actions
6. **Speed**: One-click options for common scenarios

## ğŸ“± Responsive Design

- Mobile: Stacked layout, full-width buttons
- Tablet: Same as mobile with more padding
- Desktop: Centered modal, max-width 2xl

## â™¿ Accessibility

- Input has proper labels
- Buttons have descriptive text
- Error messages are clear and actionable
- Color contrast meets WCAG standards
- Keyboard navigation supported

## ğŸš€ Performance

- Balance fetched once on mount
- Real-time validation (no API calls)
- Instant UI updates
- Smooth animations (Framer Motion)

---

**Status**: âœ… Fully Implemented
**Version**: 1.0
**Last Updated**: January 2026
